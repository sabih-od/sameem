(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3800],{75203:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/announcements/[id]",function(){return n(60125)}])},60125:function(e,t,n){"use strict";n.r(t);var s=n(85893),l=n(67294),r=n(11163),i=n(9473),a=n(32271),c=n(86886),u=n(15861),o=n(66242),d=n(44267),x=n(21737),h=n(92401),m=n(5616),j=n(50135),f=n(69417),Z=n(9198),p=n.n(Z),v=n(48557),D=n(24749);n(35890);var Y=n(30381),b=n.n(Y);t.default=function(e){let{push:t,query:n}=(0,r.useRouter)(),{id:Z}=n,Y=(0,i.I0)(),w=(0,i.v9)(a.p2),g=(0,i.v9)(a.V_),P=(0,i.v9)(a.R0),y=(0,i.v9)(a.Vp),[S,C]=(0,l.useState)(null),[E,M]=(0,l.useState)(""),[_,k]=(0,l.useState)(""),[R,T]=(0,l.useState)("");return(0,l.useEffect)(()=>{Z&&Y((0,a.k5)({id:Z}))},[Z]),(0,l.useEffect)(()=>{if(w){M(w.title),k(w.description);let e=b()(w.date,"DD-MM-YYYY");e.isValid()&&T(e.toDate())}},[w]),(0,l.useEffect)(()=>{Y((0,a.xM)(!1))},[y]),(0,l.useEffect)(()=>{!g&&y&&(C("Announcement updated successfully!"),setTimeout(()=>{t("/announcements")},500))},[y,g]),(0,s.jsx)(v.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:6,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{variant:"h5",children:"Edit Announcement"})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(o.Z,{children:(0,s.jsxs)(d.Z,{children:[S?(0,s.jsxs)(x.Z,{severity:"success",sx:{mb:4},children:[(0,s.jsx)(h.Z,{children:"Success"}),(0,s.jsx)(m.Z,{component:"strong",sx:{display:"block"},children:S})]}):null,P&&P.length>0?(0,s.jsxs)(x.Z,{severity:"error",sx:{mb:4},children:[(0,s.jsx)(h.Z,{children:"Errors"}),P.map((e,t)=>(0,s.jsx)(m.Z,{component:"strong",sx:{display:"block"},children:e},t))]}):null,(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),g||Y((0,a.mW)({id:Z,title:E,description:_,date:b()(R).format("DD-MM-YYYY")}))},children:(0,s.jsxs)(c.ZP,{row:!0,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(j.Z,{fullWidth:!0,label:"Title",value:E,onChange:e=>M(e.target.value)})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,sx:{mt:5},children:(0,s.jsx)(j.Z,{fullWidth:!0,label:"Description",value:_,multiline:!0,maxRows:4,onChange:e=>k(e.target.value)})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,sx:{mt:5},children:(0,s.jsx)(p(),{selected:R,showYearDropdown:!0,showMonthDropdown:!0,placeholderText:"MM-DD-YYYY",todayButton:"Current Date",includeDates:[new Date,R],customInput:(0,s.jsx)(D.CustomDateInput,{}),id:"form-layouts-separator-date",onChange:e=>T(e)})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,sx:{mt:5},children:(0,s.jsx)(f.Z,{type:"submit",variant:"contained",disabled:g,children:g?"Saving":"Save"})})]})})]})})})]})})}},24749:function(e,t,n){"use strict";n.r(t),n.d(t,{CustomDateInput:function(){return b}});var s=n(85893),l=n(67294),r=n(9473),i=n(99141),a=n(39332),c=n(86886),u=n(21737),o=n(92401),d=n(15861),x=n(69417),h=n(44267),m=n(50135),j=n(5616),f=n(66242),Z=n(9198),p=n.n(Z),v=n(48557);n(35890);var D=n(30381),Y=n.n(D);let b=(0,l.forwardRef)((e,t)=>(0,s.jsx)(m.Z,{fullWidth:!0,...e,inputRef:t,label:"Date",autoComplete:"off"}));t.default=function(e){let t=(0,r.I0)(),{push:n}=(0,a.useRouter)(),Z=(0,r.v9)(i.V_),D=(0,r.v9)(i.R0),w=(0,r.v9)(i.Vp),[g,P]=(0,l.useState)(null),[y,S]=(0,l.useState)(""),[C,E]=(0,l.useState)(""),[M,_]=(0,l.useState)("");return(0,l.useEffect)(()=>{t((0,i.xM)(!1))},[w]),(0,l.useEffect)(()=>{!Z&&w&&(P("Announcement added successfully!"),setTimeout(()=>{n("/announcements")},500))},[w,Z]),(0,s.jsx)(v.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:6,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(d.Z,{variant:"h5",children:"Create Announcement"})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(f.Z,{children:(0,s.jsxs)(h.Z,{children:[g?(0,s.jsxs)(u.Z,{severity:"success",sx:{mb:4},children:[(0,s.jsx)(o.Z,{children:"Success"}),(0,s.jsx)(j.Z,{component:"strong",sx:{display:"block"},children:g})]}):null,D&&D.length>0?(0,s.jsxs)(u.Z,{severity:"error",sx:{mb:4},children:[(0,s.jsx)(o.Z,{children:"Errors"}),D.map((e,t)=>(0,s.jsx)(j.Z,{component:"strong",sx:{display:"block"},children:e},t))]}):null,(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),Z||t((0,i.vj)({title:y,description:C,date:Y()(M).format("DD-MM-YYYY")}))},children:(0,s.jsxs)(c.ZP,{row:!0,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(m.Z,{fullWidth:!0,label:"Title",value:y,onChange:e=>S(e.target.value)})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,sx:{mt:5},children:(0,s.jsx)(m.Z,{fullWidth:!0,label:"Description",value:C,multiline:!0,maxRows:4,onChange:e=>E(e.target.value)})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,sx:{mt:5},children:(0,s.jsx)(p(),{selected:M,showYearDropdown:!0,showMonthDropdown:!0,placeholderText:"MM-DD-YYYY",todayButton:"Current Date",includeDates:[new Date],customInput:(0,s.jsx)(b,{}),id:"form-layouts-separator-date",onChange:e=>_(e)})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,sx:{mt:5},children:(0,s.jsx)(x.Z,{type:"submit",variant:"contained",disabled:Z,children:Z?"Saving":"Save"})})]})})]})})})]})})}}},function(e){e.O(0,[4885,2657,315,341,5551,9741,8820,9774,2888,179],function(){return e(e.s=75203)}),_N_E=e.O()}]);